{"paragraphs":[{"text":"%dep\nz.reset()\nz.load(\"/home/amadkour/projects/knowledgecubes/target/uber-knowledgecubes-0.1.0.jar\")","user":"anonymous","dateUpdated":"2018-05-22T19:17:17-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res0: org.apache.zeppelin.dep.Dependency = org.apache.zeppelin.dep.Dependency@750fda24\n"}]},"apps":[],"jobName":"paragraph_1526764325372_-173958170","id":"20180519-171205_1153917409","dateCreated":"2018-05-19T17:12:05-0400","dateStarted":"2018-05-22T19:17:17-0400","dateFinished":"2018-05-22T19:17:27-0400","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2857"},{"text":"import scala.collection.mutable\nimport scala.collection.mutable.ListBuffer\nimport scala.io.Source\nimport scala.collection.mutable.ListBuffer\nimport scala.io.Source\n\nimport com.google.common.geometry.{S2CellId, S2LatLng}\n\nval filename = \"/home/amadkour/geo/geometry-encoded.txt\"\nvar numTriples = 0\nvar resources = mutable.Map[Long, ListBuffer[Integer]]()","user":"anonymous","dateUpdated":"2018-05-22T19:17:17-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import scala.collection.mutable\nimport scala.collection.mutable.ListBuffer\nimport scala.io.Source\nimport scala.collection.mutable.ListBuffer\nimport scala.io.Source\nimport com.google.common.geometry.{S2CellId, S2LatLng}\nfilename: String = /home/amadkour/geo/geometry-encoded.txt\nnumTriples: Int = 0\nresources: scala.collection.mutable.Map[Long,scala.collection.mutable.ListBuffer[Integer]] = Map()\n"}]},"apps":[],"jobName":"paragraph_1526750622721_75181","id":"20180519-132342_1305464849","dateCreated":"2018-05-19T13:23:42-0400","dateStarted":"2018-05-22T19:17:20-0400","dateFinished":"2018-05-22T19:17:44-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2858"},{"text":"var lvl = 3","user":"anonymous","dateUpdated":"2018-05-22T19:17:28-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"lvl: Int = 3\n"}]},"apps":[],"jobName":"paragraph_1526762899275_-1238994031","id":"20180519-164819_760666356","dateCreated":"2018-05-19T16:48:19-0400","dateStarted":"2018-05-22T19:17:28-0400","dateFinished":"2018-05-22T19:17:44-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2859"},{"text":"for (line <- Source.fromFile(filename).getLines) {\n  numTriples += 1\n  var entryParts = line.split(\"\\t\")\n  var parts = entryParts(1).split(\",\")\n  var latlng = S2LatLng.fromDegrees(parts(0).toDouble, parts(1).toDouble)\n  var cell = S2CellId.fromLatLng(latlng)\n  var parentID = cell.parent(lvl).id()\n  if (resources.contains(parentID)) {\n    var lst = resources(parentID)\n    lst.append(entryParts(0).toInt)\n    resources(parentID) = lst\n  }\n  else {\n    var lst = ListBuffer[Integer]()\n    lst.append(entryParts(0).toInt)\n    resources(parentID) = lst\n  }\n}\nprintln(s\"Number of triples : $numTriples\")\nprintln(s\"Number of Filters : ${resources.size}\")","user":"anonymous","dateUpdated":"2018-05-22T19:17:19-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Number of triples : 7394074\nNumber of Filters : 369\n"}]},"apps":[],"jobName":"paragraph_1526751038824_-2027373090","id":"20180519-133038_1779107409","dateCreated":"2018-05-19T13:30:38-0400","dateStarted":"2018-05-22T19:17:44-0400","dateFinished":"2018-05-22T19:17:59-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2860"},{"text":"import net.jcazevedo.moultingyaml._\nimport net.jcazevedo.moultingyaml.DefaultYamlProtocol._\nimport edu.purdue.knowledgecubes.GEFI.{GEFI, GEFIType}\nimport java.io.{File, IOException, PrintWriter,ObjectOutputStream,FileOutputStream}\n\nval confFile = \"/home/amadkour/projects/knowledgecubes/output/yago/spatial-filters.yaml\"\nval outFile = \"/home/amadkour/projects/knowledgecubes/output/yago\"\n\nvar sfConf = Map[Int,Long]() \nvar counter = 0\nfor ((k,v) <- resources) {\n    counter += 1\n    sfConf += (counter -> k)\n    \n    val filterName = counter\n    val filterType = GEFIType.ROARING\n    val filterSize = v.size\n    val falsePositiveRate = 0.0\n    \n    val filter = new GEFI(filterType, filterSize, falsePositiveRate)\n    \n    for (value <- v) {\n        filter.add(value)\n    }\n    val fullPath = outFile + \"/GEFI/spatial/\" + filterType.toString + \"/\" + falsePositiveRate.toString\n    val directory = new File(fullPath)\n    if (!directory.exists) directory.mkdirs()\n    val fout = new FileOutputStream(fullPath + \"/\" + filterName)\n    val oos = new ObjectOutputStream(fout)\n    oos.writeObject(filter)\n    oos.close()\n}\n\nnew PrintWriter(confFile) { write(sfConf.toYaml.print(flowStyle = Flow)); close() }\n","user":"anonymous","dateUpdated":"2018-05-22T19:23:58-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import net.jcazevedo.moultingyaml._\nimport net.jcazevedo.moultingyaml.DefaultYamlProtocol._\nimport edu.purdue.knowledgecubes.GEFI.{GEFI, GEFIType}\nimport java.io.{File, IOException, PrintWriter, ObjectOutputStream, FileOutputStream}\nconfFile: String = /home/amadkour/projects/knowledgecubes/output/yago/spatial-filters.yaml\noutFile: String = /home/amadkour/projects/knowledgecubes/output/yago\nsfConf: scala.collection.immutable.Map[Int,Long] = Map()\ncounter: Int = 0\nres20: java.io.PrintWriter = $anon$1@36e82d12\n"}]},"apps":[],"jobName":"paragraph_1527017661391_-1915275964","id":"20180522-153421_231097298","dateCreated":"2018-05-22T15:34:21-0400","dateStarted":"2018-05-22T19:23:58-0400","dateFinished":"2018-05-22T19:24:03-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2861"},{"user":"anonymous","dateUpdated":"2018-05-22T19:17:19-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1527029410144_-270197378","id":"20180522-185010_200778723","dateCreated":"2018-05-22T18:50:10-0400","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:2862"}],"name":"KC Spatial Filters","id":"2DEFNEX6E","angularObjects":{"2DE91B49C:shared_process":[],"2DG77M5H8:shared_process":[],"2DFR4RYTA:shared_process":[],"2DFUD2DW2:shared_process":[],"2DFZXCSZC:shared_process":[],"2DFX7UU76:shared_process":[],"2DCWUSDVY:shared_process":[],"2DE3AX68P:shared_process":[],"2DCX3CVWW:shared_process":[],"2DD89MWUP:shared_process":[],"2DEGRXDBP:shared_process":[],"2DGSTCXXG:shared_process":[],"2DDXKG9NR:shared_process":[],"2DFG46X1J:shared_process":[],"2DDX7R37X:shared_process":[],"2DGV4CJFS:shared_process":[],"2DE8QCQWN:shared_process":[],"2DEC89BAK:shared_process":[],"2DDEK3YXU:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}